@page
@model InstPlusEntityFr.Pages.ProfilPrywatny.IndexModel
@{
}

@if (Model.errorMessage.Length > 0)
{
    <div class='alert alert-warning alert-dismissible fade show' role='alert'>
        <strong>@Model.errorMessage</strong>
        <button type='button' class='btn-close' data-bs-dismiss='alert' aria-label='Close'></button>
    </div>
}

@if (!string.IsNullOrEmpty(Model.ZdjecieProfilowe))
{
    <div style="text-align: left">
        <div style="display: flex; align-items: center;">
            <div style="width: 150px; height: 150px; overflow: hidden; margin-right: 10px;">
                <img class="img" id="previewImage" src=@Url.Content(@Model.ZdjecieProfilowe) alt="Zdjecie profilowe" style="width: 100%; height: 100%; object-fit: cover;" />
            </div>
            <label class="display-6">@Model.LoginUzytkownika</label>
        </div>
        <form asp-page-handler="ZmienZdjecie">
            <input type="submit" value="ZMIEŃ ZDJĘCIE PROFILOWE >" asp-page-handler="ZmienZdjecie" />
        </form>
        <br><br>
        <div>
            <label>O mnie:</label>
            <br>
        </div>
        <form asp-page-handler="ZmienOpisBtn">
            <textarea class="form-control" id="OpisUzytkownika" name="OpisUzytkownika" rows="3" cols="100">@Model.OpisUzytkownika</textarea>
            <input type="submit" value="ZMIEŃ OPIS >" asp-page-handler="ZmienOpisBtn" />
        </form>
    </div>
}

<script>
    document.getElementById("OpisUzytkownika").addEventListener("keydown", function (e) {
        if (e.key === "Enter") {
            e.preventDefault();
            var currentValue = this.value;
            this.value = currentValue + "\n";
        }
    });
</script>
